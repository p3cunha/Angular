<div class="combobox">
  <input
    id="autocomplete"
    type="text"
    [(ngModel)]="textTyped"
    (ngModelChange)="getFilteredList()"
    class="combobox-input"
    (keyup)="onKeyPress($event)"
    (focus)="toggleListDisplay('open')"
    (blur)="toggleListDisplay('close')"
    placeholder="Select one..."
    [ngClass]="{ error: showError }"
  />
  <span *ngIf="showError" class="error-text"><i>Invalid Selection.</i></span>
  <div class="combobox-options" *ngIf="listOpened$ | async">
    <list-item
      class="list-item"
      *ngFor="let item of filteredList; index as ind"
      (click)="setIndex(ind)"
      [ngClass]="{ selected: ind === selectedIndex }"
      >{{ item }}</list-item
    >
  </div>
</div>
